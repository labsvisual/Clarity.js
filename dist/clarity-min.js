!function(){var Clarity={},context=window,imgElements=[],at2xSuffix="@2x",retinaDir="";Clarity={resolveConfig:function(){for(var scriptTags=document.getElementsByTagName("script"),i=0;i<scriptTags.length;i++){var currentTag=scriptTags[i],src=currentTag.getAttribute("src");if(null!=src&&src.toLowerCase().indexOf("clarity")>-1){var configIndex=src.lastIndexOf("{"),config=null;if(!(configIndex>-1))break;if(config=src.substring(configIndex),null!==config){var obj=eval("("+config+")");obj.at2xSuffix&&""!==obj.at2xSuffix&&(at2xSuffix=obj.at2xSuffix),obj.retinaDir&&""!==obj.retinaDir&&(retinaDir=obj.retinaDir);break}}}},isDeviceRetina:function(){var i="(min-resolution: 1.5dppx),(-webkit-min-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2)";return context.devicePixelRatio>1||context.matchMedia&&context.matchMedia(i).matches?!0:!1},indexElements:function(){var i=document.getElementsByTagName("img");if(null==i||null===i||i.length<=0)return void console.log("Clarity Debug: No Image Elements found");for(var t=0;t<i.length;t++){var e=i[t];"escape"!==e.getAttribute("data-clarity")&&imgElements.push(e)}console.log("Clarity Debug: Initialization Successful; indexed "+imgElements.length+" elements.")},clarity:function(){for(var i=0;i<imgElements.length;i++){var t=imgElements[i],e=t.getAttribute("src"),n,r,a,s=[],l;s[0]=t.height,s[1]=t.width,a=e.substring(0,e.lastIndexOf("/")),r=e.substring(e.lastIndexOf("/")+1),r=r.split(".")[0]+at2xSuffix+"."+r.split(".")[1],l=""!==retinaDir&&null!=retinaDir?retinaDir+"/":"",a=a+"/"+l+r,t.setAttribute("src",a),t.setAttribute("style","height: "+s[0]+"px; width: "+s[1]+"px;")}},init:function(){this.resolveConfig(),this.isDeviceRetina()&&(this.indexElements(),this.clarity())}},Clarity.init()}();
//# sourceMappingURL=./clarity-min.js.map